<!DOCTYPE html>
<html lang="en">
<head>




<title>Title Page</title>

    <link rel="stylesheet" href="../static/nlp.css">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body class = "background">


<div class="container-1">
  <div class="box-2">
    
    <p class="sidetitles">Epoch: </p>
    
    <div class="slider" >
  <input type="range" min="0" max="100"value="10"   oninput="rangeValue1.innerText = this.value">
  <p id="rangeValue1">10</p>
</div>
    <p class="sidetitles">Window Size </p>
    <div class="slider" >
  <input type="range" min="0" max="100"value="10"   oninput="rangeValue2.innerText = this.value">
  <p id="rangeValue2">10</p>
</div>

    <p class = "sidetitles">Embedding Dim </p>
    <div class="slider" >
  <input type="range" min="0" max="100"value="10"   oninput="rangeValue3.innerText = this.value">
  <p id="rangeValue3">10</p>
</div>

    <p class = "sidetitles">Batch Size: 4 </p>
    <div class="slider" >
  <input type="range" min="0" max="100"value="10"   oninput="rangeValue4.innerText = this.value">
  <p id="rangeValue4">10</p>
</div>
    
    

  </div>



  <div class="box-1">
 
    <form class = "grid" action = "/result" method = "POST" >
      <center>
        <label id = "titlelab" for="vocabulary" class = "redTitle" > Vocabulary: </label>
        <div class = vocabbox id = "placevoc"> </div>
        <input type="text" name="vocabulary" id="voc"> 
      </center>

      {% if vocabulary  %}
    
       <body onLoad="javascript:change()" >


      {% endif %}

      <script >
        function change() // no ';' here
      {
        document.getElementById("placevoc").innerHTML =  "UNK {{vocabulary}}";
     }
  

      </script>

      <button class = "file_submit" type="submit" >Submit </button>
      
    </form>

    
    <table id = "vocabs" class = "tableVocab">

    </table>
    
 

  </div>
</div>



<div class = "body">
  
<div>


  <h4 class = "layer"> Input Layer </h4>
  <h4 class = "layer"> Hidden Layer </h4>
  <h4 class = "layer"> Output Layer </h4>
  <h4 class = "layer" style=" top: 0px;right: 140px; position: absolute;"> Matrix Form </h4>



</div>


  <div class="matrixform">

  

<h3>Input Layer</h3>
    <div class="tbody">
    <table>
      
      <tr>
        <td>0</td>
      </tr>
      <tr>
        <td>1</td>
      </tr>
      <tr>
        <td>0</td>
      </tr>
      <tr>
        <td>0</td>
      </tr>
      <tr>
        <td>0</td>
      </tr>
      </tbody>
    </table>
  </div>


  <div class="tbody">
    <table>
      </tbody>
      <tr>
        <td>0</td>
      </tr>
      <tr>
        <td>0</td>
      </tr>
      <tr>
        <td>0</td>
      </tr>
      <tr>
        <td>1</td>
      </tr>
      <tr>
        <td>0</td>
      </tr>
    </table>
  </div>




</div>

    





</div>


 
   <div>
   
    <script>

      const url = 'http://localhost:6969/matrix'
      fetch(url)
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
              appendVocab(data);
                
                
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        

        function appendVocab(data) {

            var mainContainer = document.getElementById("vocabs");
            
            var div = document.createElement("table");
            let text = "<tr>"
            for (var i = 0; i < data.words.length; i++) {
              text += "<th>" + data.words[i] + "</th>"
            }
            text += "</tr>" 
            

            text += "<tr>" 
            let enc = ""
            function add(enc, j){
                for (var i = 0; i < data.words.length; i++) {
                    if(j == i ){
                        enc += "1"
                    }
                    else{
                    enc += "0"
                }
            }
            return enc
        }
            for (var i = 0; i < data.words.length; i++) {
              text += "<td>" + add(enc, i) + "</td>"
            }
        text += "</tr>" 

        div.innerHTML = text
        mainContainer.appendChild(div);
    }
    
    </script>
  </div>


  




</body>
</html>